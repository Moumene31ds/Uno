<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNO - Glassmorphism Edition PRO</title>
    
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø© ÙˆØ®Ù„ÙÙŠØ© Ù…ØªØ­Ø±ÙƒØ© */
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(-45deg, #1a1a2e, #16213e, #0f3460, #e94560);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: white;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠ */
        .glass-container {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            width: 90vw;
            max-width: 1000px;
            height: 90vh;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            direction: ltr;
            position: relative;
        }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙˆØ§Ù„Ø·Ø§ÙˆÙ„Ø© */
        .player-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .cards-container {
            display: flex;
            gap: -30px; /* ØªØ¯Ø§Ø®Ù„ Ø£ÙƒØ¨Ø± Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
            flex-wrap: wrap;
            justify-content: center;
            min-height: 120px;
            padding: 10px;
        }

        .table-area {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 20px;
            flex-grow: 1;
        }

        .table-cards {
            display: flex;
            gap: 40px;
            align-items: center;
        }

        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠØ© */
        .card {
            width: 80px;
            height: 120px;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 22px;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 5px solid white; /* Ø­Ø¯ÙˆØ¯ Ø¨ÙŠØ¶Ø§Ø¡ Ø³Ù…ÙŠÙƒØ© */
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            user-select: none;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 5px;
        }

        .card:hover {
            transform: translateY(-15px) scale(1.1);
            z-index: 10;
        }

        .card.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
            filter: grayscale(0.8);
        }

        .card-corner {
            font-size: 14px;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .card-corner.top {
            align-self: flex-start;
        }

        .card-corner.bottom {
            align-self: flex-end;
            transform: rotate(180deg);
        }

        .card-center {
            font-size: 32px;
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…Ù„ÙˆÙ†Ø© ÙˆØ§Ù„Ø£Ù†Ù…Ø§Ø· */
        .card.green {
            background-color: #34c759;
            /* Ù†Ù…Ø· Ù…ØªÙ…ÙˆØ¬ Ø¨Ø³ÙŠØ· */
            background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, .1), rgba(255, 255, 255, .1) 10px, rgba(255, 255, 255, .2) 10px, rgba(255, 255, 255, .2) 20px);
        }

        .card.yellow {
            background-color: #ffcc00;
            /* Ù†Ù…Ø· Ù…ØªÙ…ÙˆØ¬ Ø¨Ø³ÙŠØ· */
            background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, .1), rgba(255, 255, 255, .1) 10px, rgba(255, 255, 255, .2) 10px, rgba(255, 255, 255, .2) 20px);
            color: white; /* Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø¨ÙŠØ¶ */
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .card.blue {
            background-color: #007aff;
            /* Ù†Ù…Ø· Ø´Ø¨ÙƒÙŠ Ø¨Ø³ÙŠØ· */
            background-image: linear-gradient(0deg, transparent 50%, rgba(255, 255, 255, .1) 50%), linear-gradient(90deg, transparent 50%, rgba(255, 255, 255, .1) 50%);
            background-size: 20px 20px;
        }

        .card.red {
            background-color: #ff3b30;
            /* Ù†Ù…Ø· Ù…Ù†Ù‚Ø· Ø¨Ø³ÙŠØ· */
            background-image: radial-gradient(rgba(255, 255, 255, .1) 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .card.wild {
            /* Ù†Ù…Ø· Ù…Ù‚Ø³Ù… Ù„Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø£Ø±Ø¨Ø¹Ø© Ù…Ø¹ Ù†Ù…Ø· Ù…Ù†Ù‚Ø· */
            background-image: linear-gradient(135deg, #ff3b30 50%, #ffcc00 50%), linear-gradient(45deg, #007aff 50%, #34c759 50%), radial-gradient(rgba(255, 255, 255, .1) 1px, transparent 1px);
            background-size: 100% 100%, 100% 100%, 20px 20px;
            background-color: transparent;
        }

        /* Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø­Ø¯ÙˆØ¯ Ø³ÙˆØ¯Ø§Ø¡ */
        .card.special-black {
            border-color: black;
            background-color: transparent;
        }

        /* Ù†Ù…Ø· Skip bØ­Ø¯ÙˆØ¯ Ø³ÙˆØ¯Ø§Ø¡ - Ù…Ø«Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø®Ø¶Ø±Ø§Ø¡ */
        .card.skip-special {
            background-color: #34c759;
            border-color: black;
            background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, .1), rgba(255, 255, 255, .1) 10px, rgba(255, 255, 255, .2) 10px, rgba(255, 255, 255, .2) 20px);
        }

        .skip-icon {
            width: 32px;
            height: 32px;
            border: 3px solid white;
            border-radius: 50%;
            position: relative;
        }

        .skip-icon::after {
            content: '';
            position: absolute;
            top: 50%; left: 0;
            width: 100%;
            height: 3px;
            background-color: white;
            transform: rotate(-45deg) translateY(-50%);
        }

        /* Ù†Ù…Ø· ÙƒÙˆÙ…Ø© Ø§Ù„Ø³Ø­Ø¨ ÙˆØ¸Ù‡Ø± Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© */
        .draw-pile {
            background-color: black;
            border-color: white;
            background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, .1), rgba(255, 255, 255, .1) 10px, rgba(255, 255, 255, .2) 10px, rgba(255, 255, 255, .2) 20px);
        }

        .draw-pile:hover:not(.disabled) {
            transform: scale(1.05);
        }

        /* Ù†Ù…Ø· Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø­Ø¯ÙˆØ¯ Ø³ÙˆØ¯Ø§Ø¡ */
        .card.card-reverse-special {
            border-color: black;
            background-color: #007aff;
            background-image: linear-gradient(0deg, transparent 50%, rgba(255, 255, 255, .1) 50%), linear-gradient(90deg, transparent 50%, rgba(255, 255, 255, .1) 50%);
            background-size: 20px 20px;
        }

        .reverse-icon {
            width: 32px;
            height: 32px;
            position: relative;
        }

        .reverse-icon::before, .reverse-icon::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 10px;
            border-bottom: 3px solid white;
            border-right: 3px solid white;
            transform: rotate(45deg);
        }

        .reverse-icon::before {
            top: 0; left: 0;
        }

        .reverse-icon::after {
            bottom: 0; right: 0;
            transform: rotate(225deg);
        }

        /* Ù†Ù…Ø· Ù…Ø¤Ø´Ø± Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø­Ø§Ù„ÙŠ */
        .current-color-indicator {
            position: relative;
            overflow: hidden;
            border: 2px solid white;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: bold;
            margin-top: 10px;
            text-transform: uppercase;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .current-color-indicator::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            border-radius: 50%;
            background-image: radial-gradient(rgba(255, 255, 255, .1) 1px, transparent 1px);
            background-size: 10px 10px;
        }
    </style>
</head>
<body>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const COLORS = ['red', 'blue', 'green', 'yellow'];
        const VALUES = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'Skip', 'Rev', '+2'];
        const SPECIALS = ['Wild', 'Wild +4'];

        const generateDeck = () => {
            let deck = [];
            for (let color of COLORS) {
                for (let value of VALUES) {
                    deck.push({ color, value, type: 'normal', id: Math.random().toString(36).substr(2, 9) });
                    if(value !== '0') {
                        deck.push({ color, value, type: 'normal', id: Math.random().toString(36).substr(2, 9) });
                    }
                }
            }
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¬ÙˆÙƒØ±
            for(let i=0; i<4; i++) {
                deck.push({ color: 'black', value: 'Wild', type: 'wild', id: Math.random().toString(36).substr(2, 9) });
                deck.push({ color: 'black', value: 'Wild +4', type: 'wild', id: Math.random().toString(36).substr(2, 9) });
            }
            return deck.sort(() => Math.random() - 0.5);
        };

        const UnoGame = () => {
            const [deck, setDeck] = useState([]);
            const [playerHand, setPlayerHand] = useState([]);
            const [aiHand, setAiHand] = useState([]);
            const [discardPile, setDiscardPile] = useState([]);
            const [turn, setTurn] = useState('player'); 
            const [message, setMessage] = useState('Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨!');
            const [activeColor, setActiveColor] = useState('');
            const [showColorPicker, setShowColorPicker] = useState(false);
            const [pendingWildCard, setPendingWildCard] = useState(null);
            const [unoCalled, setUnoCalled] = useState(false);

            useEffect(() => {
                startNewGame();
            }, []);

            const startNewGame = () => {
                let newDeck = generateDeck();
                let initialPlayerHand = newDeck.splice(0, 7);
                let initialAiHand = newDeck.splice(0, 7);
                
                let startIndex = newDeck.findIndex(c => c.type === 'normal' && !['Skip', 'Rev', '+2'].includes(c.value));
                let firstCard = newDeck.splice(startIndex, 1)[0];

                setPlayerHand(initialPlayerHand);
                setAiHand(initialAiHand);
                setDiscardPile([firstCard]);
                setActiveColor(firstCard.color);
                setDeck(newDeck);
                setTurn('player');
                setMessage('Ø¯ÙˆØ±Ùƒ ÙŠØ§ Ø¨Ø·Ù„!');
                setUnoCalled(false);
            };

            const topCard = discardPile[discardPile.length - 1];

            const isValidPlay = (card) => {
                if (!topCard) return false;
                if (card.type === 'wild') return true;
                return card.color === activeColor || card.value === topCard.value;
            };

            const drawCards = (count, targetPlayer) => {
                const drawn = deck.slice(-count);
                const remaining = deck.slice(0, -count);
                setDeck(remaining);
                if (targetPlayer === 'player') {
                    setPlayerHand(prev => [...prev, ...drawn]);
                } else {
                    setAiHand(prev => [...prev, ...drawn]);
                }
            };

            const handleCardAction = (card, isPlayer, chosenColor = null) => {
                let currentHand = isPlayer ? playerHand : aiHand;
                let newHand = currentHand.filter(c => c.id !== card.id);
                
                if (isPlayer) setPlayerHand(newHand);
                else setAiHand(newHand);

                setDiscardPile([...discardPile, card]);
                
                let nextColor = chosenColor || card.color;
                setActiveColor(nextColor);

                if (newHand.length === 0) {
                    setMessage(isPlayer ? 'Ù„Ù‚Ø¯ ÙØ²Øª! ğŸ‰' : 'ÙØ§Ø² Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ! ğŸ˜¢');
                    setTurn('gameover');
                    return;
                }

                // Ù†Ø³ÙŠØ§Ù† Ù‚ÙˆÙ„ UNO
                if (isPlayer && newHand.length === 1 && !unoCalled) {
                    setMessage('Ù†Ø³ÙŠØª Ù‚ÙˆÙ„ UNO! ØªÙ… Ø³Ø­Ø¨ ÙˆØ±Ù‚ØªÙŠÙ† ÙƒØ¹Ù‚Ø§Ø¨.');
                    drawCards(2, 'player');
                }

                let nextTurn = isPlayer ? 'ai' : 'player';
                let actionMsg = isPlayer ? 'Ø¯ÙˆØ± Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ' : 'Ø¯ÙˆØ±Ùƒ!';

                if (card.value === 'Skip' || card.value === 'Rev') {
                    nextTurn = isPlayer ? 'player' : 'ai';
                    actionMsg = isPlayer ? 'ØªØ®Ø·ÙŠ! Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.' : 'Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙŠØªØ®Ø·Ø§Ùƒ ÙˆÙŠÙ„Ø¹Ø¨ Ù…Ø¬Ø¯Ø¯Ø§Ù‹.';
                } else if (card.value === '+2') {
                    drawCards(2, isPlayer ? 'ai' : 'player');
                    nextTurn = isPlayer ? 'player' : 'ai';
                    actionMsg = isPlayer ? 'Ø£Ø¹Ø·ÙŠØª Ø§Ù„Ø®ØµÙ… +2! Ø§Ù„Ø¹Ø¨ Ù…Ø¬Ø¯Ø¯Ø§Ù‹.' : 'Ø£Ø¹Ø·Ø§Ùƒ Ø§Ù„Ø°ÙƒØ§Ø¡ +2! Ø¯ÙˆØ±Ù‡ Ù…Ø¬Ø¯Ø¯Ø§Ù‹.';
                } else if (card.value === 'Wild +4') {
                    drawCards(4, isPlayer ? 'ai' : 'player');
                    nextTurn = isPlayer ? 'player' : 'ai';
                    actionMsg = isPlayer ? 'Ø£Ø¹Ø·ÙŠØª Ø§Ù„Ø®ØµÙ… +4 ÙˆØªØºÙŠØ± Ø§Ù„Ù„ÙˆÙ†! Ø§Ù„Ø¹Ø¨ Ù…Ø¬Ø¯Ø¯Ø§Ù‹.' : 'Ø£Ø¹Ø·Ø§Ùƒ Ø§Ù„Ø°ÙƒØ§Ø¡ +4! Ø¯ÙˆØ±Ù‡ Ù…Ø¬Ø¯Ø¯Ø§Ù‹.';
                }

                setMessage(actionMsg);
                setTurn(nextTurn);
                if(isPlayer) setUnoCalled(false); // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¨Ø¹Ø¯ Ø§Ù„Ù„Ø¹Ø¨
            };

            const playCard = (card, isPlayer) => {
                if (card.type === 'wild' && isPlayer) {
                    setPendingWildCard(card);
                    setShowColorPicker(true);
                    return;
                }
                handleCardAction(card, isPlayer);
            };

            const onColorPicked = (color) => {
                setShowColorPicker(false);
                handleCardAction(pendingWildCard, true, color);
                setPendingWildCard(null);
            };

            const drawSingleCard = (isPlayer) => {
                if (deck.length === 0) return;
                const newDeck = [...deck];
                const card = newDeck.pop();
                setDeck(newDeck);

                if (isPlayer) {
                    setPlayerHand([...playerHand, card]);
                    setTurn('ai');
                    setMessage('Ù‚Ù…Øª Ø¨Ø§Ù„Ø³Ø­Ø¨. Ø¯ÙˆØ± Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ.');
                    setUnoCalled(false);
                } else {
                    setAiHand([...aiHand, card]);
                    setTurn('player');
                    setMessage('Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø³Ø­Ø¨ ÙˆØ±Ù‚Ø©. Ø¯ÙˆØ±Ùƒ.');
                }
            };

            // Ù…Ù†Ø·Ù‚ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…Ø·ÙˆØ±
            useEffect(() => {
                if (turn === 'ai') {
                    const aiTimer = setTimeout(() => {
                        const playableCards = aiHand.filter(isValidPlay);
                        if (playableCards.length > 0) {
                            const cardToPlay = playableCards[0];
                            if (cardToPlay.type === 'wild') {
                                // Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙŠØ®ØªØ§Ø± Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£ÙƒØ«Ø± ØªÙˆØ§Ø¬Ø¯Ø§Ù‹ ÙÙŠ ÙŠØ¯Ù‡
                                const colorsInHand = aiHand.filter(c => c.color !== 'black').map(c => c.color);
                                const chosenColor = COLORS.reduce((a, b) => 
                                    colorsInHand.filter(v => v === a).length >= colorsInHand.filter(v => v === b).length ? a : b
                                , COLORS[0]); // Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª ÙŠØ¯Ù‡ ÙƒÙ„Ù‡Ø§ Ø¬ÙˆÙƒØ±
                                handleCardAction(cardToPlay, false, chosenColor);
                            } else {
                                handleCardAction(cardToPlay, false);
                            }
                        } else {
                            drawSingleCard(false);
                        }
                    }, 1500);
                    return () => clearTimeout(aiTimer);
                }
            }, [turn, aiHand, topCard, activeColor]);

            if (!topCard) return <div>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>;

            const Card = ({ card, onClick, className, specialClass = '' }) => {
                let content = card.value;
                let centerIcon = <div className="card-center">{card.value}</div>;
                
                if (card.value === 'Skip') {
                    centerIcon = <div className="skip-icon"></div>;
                    content = 'Skip';
                } else if (card.value === 'Rev') {
                    centerIcon = <div className="reverse-icon"></div>;
                    content = 'Rev';
                } else if (card.value === 'Wild') {
                    centerIcon = <div className="card-center">Wild</div>;
                    content = 'Wild';
                } else if (card.value === 'Wild +4') {
                    centerIcon = <div className="card-center">+4</div>;
                    content = '+4';
                }

                return (
                    <div 
                        className={`card ${card.color} ${specialClass} ${className}`}
                        onClick={onClick}
                    >
                        <div className="card-corner top">{content}</div>
                        {centerIcon}
                        <div className="card-corner bottom">{content}</div>
                    </div>
                );
            };

            return (
                <div className="glass-container">
                    
                    {/* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ */}
                    <div className="player-area">
                        <h2>Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ (AI)</h2>
                        <div className="cards-container">
                            {aiHand.map((card, i) => (
                                <div key={i} className="card card-ai">UNO</div>
                            ))}
                        </div>
                        <span className="status-badge">Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª: {aiHand.length}</span>
                    </div>

                    {/* Ø§Ù„Ø·Ø§ÙˆÙ„Ø© Ù„Ù„Ø¹Ø¨ ÙˆØ§Ù„Ø³Ø­Ø¨ */}
                    <div className="table-area">
                        <div className="status-badge" style={{color: turn==='player'?'#34c759':'#ffcc00', border: 'none', background: 'transparent', fontSize: '1.4rem'}}>
                            {message}
                        </div>
                        
                        <div className="table-cards">
                            <div 
                                className={`card draw-pile ${turn === 'player' ? '' : 'disabled'}`}
                                onClick={() => turn === 'player' && drawSingleCard(true)}
                            >
                                <div className="card-center">UNO<br/>PARTY</div>
                            </div>
                            
                            <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center'}}>
                                <Card 
                                    card={topCard} 
                                    className={`${topCard.color === 'black' ? activeColor : topCard.color}`}
                                    specialClass={(topCard.value === 'Skip' || topCard.value === 'Rev') ? 'special-black' : ''}
                                />
                                <div className="current-color-indicator" style={{backgroundColor: activeColor === 'red' ? '#ff3b30' : activeColor === 'blue' ? '#007aff' : activeColor === 'green' ? '#34c759' : '#ffcc00', color: activeColor === 'yellow' ? 'black' : 'white'}}>
                                    Ø§Ù„Ù„ÙˆÙ†: {activeColor}
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨ */}
                    <div className="player-area">
                        <div style={{display: 'flex', justifyContent: 'space-between', width: '100%', alignItems: 'center', padding: '0 20px'}}>
                            <span className="status-badge">Ø£Ù†Øª (Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª: {playerHand.length})</span>
                            {playerHand.length === 2 && (
                                <button className="uno-btn">Ù‚Ù„ UNO!</button>
                            )}
                        </div>
                        <div className="cards-container">
                            {playerHand.map((card) => {
                                const valid = turn === 'player' && isValidPlay(card);
                                return (
                                    <Card 
                                        key={card.id} 
                                        card={card} 
                                        className={`${!valid ? 'disabled' : ''}`}
                                        onClick={() => valid && playCard(card, true)}
                                        specialClass={(card.value === 'Skip' || card.value === 'Rev') ? 'special-black' : ''}
                                    />
                                )
                            })}
                        </div>
                        {turn === 'gameover' && (
                            <button className="uno-btn" onClick={startNewGame} style={{marginTop: '10px', width: '200px'}}>
                                Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
                            </button>
                        )}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<UnoGame />);
    </script>
</body>
</html>
